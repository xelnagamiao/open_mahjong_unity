## 如何添加自定义麻将规则

添加自定义麻将规则有三种方式，其一是提供核心的逻辑文件、项目组进行简单的适配；其二是发起pull request，将自己编写的新规则合并到项目的github仓库之上；其三是提供规则文件，委托项目开发人员开发相应的规则。
需要注意的是，委托项目开发者开发的规则将会上传到公共的代码仓库，如果您想要使用pull request的方式，最好先在测试群进行沟通；代码提交到git仓库时，如果没有进行特殊声明，则默认您接受本项目的MIT协议。此外，如果有服务器遭到攻击或者其他无力支持服务器存续的情形，公共平台可能会关停，届时规则制定者可以自己部署服务器来支持自己自定义的规则，本项目不保证公共平台的持续服务，如果确定需要添加自定义的麻将规则，下面是详细的需求解释。

在麻将游戏当中，一个规则的执行逻辑由三部分组成：
1、麻将游戏服务器管理某个麻将规则的不同逻辑规则
2、听牌检查脚本监听你的手牌是否符合合法的听牌形状
3、和牌检查脚本结算和牌组合的具体牌型和分数

首先、麻将游戏服务器会匹配玩家目前的状态和行为是否符合某个特定的操作规则，例如切牌、吃、碰、杠、加杠、自摸、荣和，均属于麻将游戏基础的操作规则，麻将游戏服务器会发送这些选项给玩家，玩家就可以从这些选项中选择自己要执行的部分。而补花、九种九牌、四风连打、换三张之类属于不同规则下的特殊操作；如果您所要添加的自定义规则中只包含基础操作规则、或者服务器中已被支持的其他规则当中所属的操作规则，那么就可复用或者修改现有的游戏服务器文件，可以不提供游戏服务器的相关文件。

其次、听牌检查脚本会负责监听你的手牌是否符合合法的听牌规则，如果您所要添加的自定义规则中只包含一般形、七对、十三幺、全不靠等常见并且基础的牌型，那么就可复用现有的听牌检测文件，可以不提供听牌检测的相关文件。

最后、和牌检查脚本负责结算和牌组合的具体牌型和分数，大多数麻将规则的主要变化也集中在和牌番役的变化上，一般添加规则只需要提供完整的和牌检查脚本即可。

小贴士：服务器采用py-fastapi框架，您提供的麻将游戏服务器脚本需要是py文件，听牌检查脚本和和牌检查脚本可以是py、so或者其他语言编译的文件，如果您需要在客户端显示提示（在切牌以后显示和牌的番数），由于要在unity客户端中执行，需要提供C#文件或者C#编译的动态链接库dll文件。